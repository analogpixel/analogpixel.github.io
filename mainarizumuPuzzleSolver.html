<!DOCTYPE html>
<html>
<head>
	
	<link rel="stylesheet" type="text/css" href="css/style.css">
	<link rel="stylesheet" type="text/css" href="css/analog.css">
	<link rel="stylesheet" type="text/css" href="css/pygments.css">
	<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">

	<style type="text/css">
		
		

	</style>

	<title></title>
</head>

<body>

	<div class="wrapper">
		<!-- <header class="header">Header</header> -->

		<div class=main>
			<h1>Mainarizumu Puzzle Solver</h1>

<h2>Summary </h2>

While on the <a href="https://jococruise.com/">JOCO</a>
 cruise, I was introduced to the puzzle <a href="https://en.wikipedia.org/wiki/Mainarizumu">Mainarizumu</a>
 (zumu) ; which is a Sudoku like game that differs from Sudoku in that there are constraints  on some of the squares.  This can best be explained with a small example puzzle:<br>
<img src="static/data/mainarizumuPuzzleSolver-pasted_20170320135334.png" alt="img">
<br>
In this puzzle, the greater than sign indicated that the lower left box, is greater than the lower right box.  Given that constraint and that each column and row must be unique and between 1 and 2 we get the solution: <br>
<img src="static/data/mainarizumuPuzzleSolver-pasted_20170320135435.png" alt="img">
<br>

As the cruised progressed, I learned that the hack-a-thon team was working toward building a solver for this puzzle, and solving puzzles on the computer is always a ton of fun, so I picked up my trusty python constraint solver and went to solving the puzzle.  <br>
The program is really two separate parts;  the first part is the solver, and the second part is the GUI that allows you to input the puzzle, and get answers back.   The GUI is webpage with a bunch of javascript, and the back end is a flask server accepting connections, calling the solver, and returning the results back to the page.<br>
<h2>The GUI</h2>
<img src="static/data/mainarizumuPuzzleSolver-pasted_20170320140131.png" alt="img">
<br>
The GUI allows you to pick the puzzle size, select your constraints, and then solve the puzzle.  After you click solve, you get back one or more solutions for the puzzle, which you can then scroll through.<br>
<h2>The Solver</h2>
The solver was written using the <a href="https://github.com/python-constraint/python-constraint">python-constraint</a>
 package and is pretty straight forward if you look at the <a href="https://github.com/analogpixel/mainarizumu">code</a>
. (I think I spent more time working on the GUI than the solver.)  Mostly I just setup all the constraints of the puzzle, and then had the solver go at it.  The only thing that tripped me up on the solver was passing variables into the lambda constraint, and this was solved via:
<table class="sourcetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="source"><pre><span></span><span class="n">problem</span><span class="o">.</span><span class="n">addConstraint</span><span class="p">(</span>  <span class="k">lambda</span> <span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="n">c</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="nb">abs</span><span class="p">(</span><span class="n">a</span><span class="o">-</span><span class="n">b</span><span class="p">)</span> <span class="o">==</span> <span class="n">c</span> <span class="p">,</span> <span class="n">c</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>  <span class="p">)</span>
</pre></div>
</td></tr></table>

passing the variable in through the lambda variables. <br>
<h2>Using the Solver</h2>
The solver can be used to both solve and build puzzles.  To use it, clone the repo, (I should have broken out it's own repo, but oh well.) Install the dependencies with pip , run python main.py (using python 2.x)  and then connect to http://localhost:5002  <br>

<h2>Links</h2>
<li class=bullet1><a href="https://github.com/analogpixel/mainarizumu">Code for solver and puzzle on github</a>
</li>
<li class=bullet1><a href="https://en.wikipedia.org/wiki/Mainarizumu">Wikipedia on Mainarizumu</a>
</li>
<hr>
<div class="tag">puzzle</div>
<div class="tag">publish</div><br>

		</div>

		<aside class="aside aside-1"></aside>
		<aside class="aside aside-2"><br><br><a href="http://www.analogpixel.org"><img src=img/helloMyNameIs.png width=200 border=0></a>
		    <br>
		    <a href="http://www.analogpixel.org">Home</a><br>
		    <a href="https://github.com/analogpixel/">GitHub</a><br>
			<a href="http://analog.smugmug.com/">Photos</a><br>
			<a href="https://analog.smugmug.com/Whiteboard/">Doodles</a><br>
			<a href="https://analog.smugmug.com/Make-Things/">Random Things</a><br>
			<a href="mailto://matt.poepping@gmail.com">Email me</a><br>
		</aside>
		<!-- <footer class=footer>Footer</footer> -->
	</div>

	<script type="text/x-mathjax-config">
            MathJax.Hub.Config({
                asciimath2jax: {
                delimiters: [['$|','|$']]
                }
            });
            </script>
            
    <!-- http://docs.mathjax.org/en/latest/start.html -->
    <script type="text/javascript" async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=AM_CHTML"></script>

</body>
</html>